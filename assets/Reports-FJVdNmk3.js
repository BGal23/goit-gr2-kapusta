import{g as $,m as A,b as x,j as r,r as p,c as T,s as L,n as q,o as W,u as Z,p as X,L as F}from"./index-7Gtuvjhq.js";import{C as G}from"./Charts-CCjMrf03.js";import{B as U}from"./Balance-8PgTgfpL.js";import"./AsksModal-CAEVb9kD.js";import"./HelloModal-HLPlKIWx.js";var k={exports:{}},V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",H=V,Q=H;function E(){}function P(){}P.resetWarningCache=E;var K=function(){function e(s,i,l,u,a,c){if(c!==Q){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:P,resetWarningCache:E};return n.PropTypes=n,n};k.exports=K();var ee=k.exports;const h=$(ee),te={filteredData:[]},S=A({name:"reportsQuery",initialState:te,reducers:{filteredDataAction:(e,t)=>{e.filteredData=t.payload}}}),{filteredDataAction:ne}=S.actions;S.reducer;const re="_list_108ju_1",se="_item_108ju_11",oe="_itemText_108ju_52",ae="_itemExpenses_108ju_59",ce="_itemIncome_108ju_66",ie="_box_108ju_73",le="_navText_108ju_90",d={list:re,item:se,itemText:oe,itemExpenses:ae,itemIncome:ce,box:ie,navText:le};var M={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O=x.createContext&&x.createContext(M),ue=["attr","size","title"];function pe(e,t){if(e==null)return{};var n=me(e,t),s,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)s=l[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function me(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,l;for(l=0;l<s.length;l++)i=s[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_.apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(s){de(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function de(e,t,n){return t=he(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){var t=xe(e,"string");return typeof t=="symbol"?t:String(t)}function xe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D(e){return e&&e.map((t,n)=>x.createElement(t.tag,g({key:n},t.attr),D(t.child)))}function R(e){return t=>x.createElement(ye,_({attr:g({},e.attr)},t),D(e.child))}function ye(e){var t=n=>{var{attr:s,size:i,title:l}=e,u=pe(e,ue),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),x.createElement("svg",_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:c,style:g(g({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),l&&x.createElement("title",null,l),e.children)};return O!==void 0?x.createElement(O.Consumer,null,n=>t(n)):t(M)}function fe(e){return R({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function be(e){return R({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}const je="_box_183zs_1",_e="_button_183zs_8",N={box:je,button:_e},y=({onButtonClick:e})=>{const t=n=>{const s=n.currentTarget.name;e(s),console.log(e)};return r.jsxs("div",{className:N.box,children:[r.jsx("button",{className:N.button,name:"decrement",onClick:t,children:r.jsx(fe,{})}),r.jsx("button",{className:N.button,name:"increment",onClick:t,children:r.jsx(be,{})})]})};y.propTypes={onButtonClick:h.func.isRequired};const z=({transactionType:e})=>{const[t,n]=p.useState(""),[s,i]=p.useState([]),l=T(L),u=T(q);p.useEffect(()=>{(async()=>{try{const v=await a(e,u,l+1,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1Zjg0MTYxZDhmNWU4OGJiNWYyZGVhNCIsImlhdCI6MTcxMDkzMjk2NCwiZXhwIjoxNzExNTM3NzY0fQ.Xf8oOxwtX-tiLZ2Pvv33qcXCkSAs-JJgEsM8Jyzxqqc");i(v)}catch(m){console.error("Błąd pobierania danych z API:",m.message)}})()},[l,u,e]);const a=async(o,m,v,B)=>{try{return(await W({transactionType:o,year:m,month:v,token:B})).data}catch(C){throw new Error("Błąd pobierania danych z API: "+C.message)}},c=o=>{n(o)};return r.jsx("div",{children:r.jsx("ul",{children:s.map(o=>r.jsxs("li",{onClick:()=>c(o),className:`${o===t?"active":""}`,children:[r.jsx("p",{children:o.category}),r.jsx("svg",{width:"56",height:"56",className:o.iconName===t?"active":"",children:r.jsx("use",{href:`${o.categoryImageUrl}#${o.iconName}`})}),r.jsxs("p",{children:[o.total," UAH"]})]},o.id))})})};z.propTypes={transactionType:h.string.isRequired};const ge=()=>{const[e,t]=p.useState("expense"),[n,s]=p.useState(0),[i,l]=p.useState(0),u=Z(),a=()=>{t(e==="expense"?"income":"expenses"),u(ne([]))};return p.useEffect(()=>{(async()=>{try{const o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1Zjg0MTYxZDhmNWU4OGJiNWYyZGVhNCIsImlhdCI6MTcxMDkzMjk2NCwiZXhwIjoxNzExNTM3NzY0fQ.Xf8oOxwtX-tiLZ2Pvv33qcXCkSAs-JJgEsM8Jyzxqqc",{expenseTotal:m}=await X({transactionType:e,token:o});e==="expense"?s(m):l(m)}catch(o){console.error("Błąd pobierania danych z API:",o.message)}})()},[e]),r.jsxs("div",{children:[r.jsxs("ul",{className:d.list,children:[r.jsxs("li",{className:d.item,children:[r.jsx("p",{className:d.itemText,children:"Expense:"}),r.jsxs("span",{className:d.itemExpenses,children:[n,".00"]})]}),r.jsxs("li",{className:d.item,children:[r.jsx("p",{className:d.itemText,children:"Income:"}),r.jsxs("span",{className:d.itemIncome,children:[i,".00"]})]})]}),r.jsxs("div",{className:d.box,children:[r.jsx(y,{onButtonClick:a}),r.jsx("p",{className:d.navText,children:e==="expense"?"Expense":"Income"}),r.jsx(y,{onButtonClick:a}),r.jsx(z,{transactionType:e})]})]})},J=new Date,b=["January","February","March","April","May","June","July","August","September","October","November","December"],ve=()=>J.getMonth(),Ne=()=>J.getFullYear(),Ie="_backdrop_1cjrp_1",Ce="_calendarbox_1cjrp_10",Te="_calendarItem_1cjrp_21",Oe="_active_1cjrp_26",f={backdrop:Ie,calendarbox:Ce,calendarItem:Te,active:Oe},Y=({onClose:e,currentMonth:t,currentYear:n,onChangeDate:s})=>{const i=a=>{const c=parseInt(a.currentTarget.textContent);s(c,t)},l=a=>{const c=a.currentTarget.textContent,o=b.indexOf(c);s(n,o)};p.useEffect(()=>{const a=c=>{c.code==="Escape"&&e()};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[e]);const u=a=>{a.target===a.currentTarget&&e()};return r.jsx("div",{onClick:u,className:f.backdrop,children:r.jsxs("div",{className:f.calendarbox,children:[r.jsx(y,{onButtonClick:i,children:r.jsx("p",{className:f.year,children:n})}),r.jsx("ul",{children:b.map(a=>r.jsx("p",{className:`${f.calendarItem} ${a===t?f.active:""}`,onClick:l,children:a},a))})]})})};Y.propTypes={onClose:h.func.isRequired,currentMonth:h.oneOfType([h.string,h.number]).isRequired,currentYear:h.number.isRequired,onChangeDate:h.func.isRequired};const we="_periodbox_1se94_1",ke="_periodbutton_1se94_6",Ee="_periodItem_1se94_16",I={periodbox:we,periodbutton:ke,periodItem:Ee},Pe=()=>{const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,l]=p.useState(!1);p.useEffect(()=>((()=>{const o=ve();t(b[o]),s(Ne())})(),()=>{}),[]);const u=c=>{let o=b.indexOf(e);o=c?(o+1)%12:(o-1+12)%12;const m=c&&o===0?n+1:!c&&o===11?n-1:n;s(m),t(b[o])},a=()=>{l(c=>!c)};return r.jsxs("div",{className:I.periodbox,children:[r.jsx("p",{children:"Current period:"}),r.jsxs("div",{className:I.periodItem,children:[r.jsx(y,{onButtonClick:()=>u(!1)}),r.jsxs("button",{className:I.periodbutton,onClick:a,children:[e," ",n]}),r.jsx(y,{onButtonClick:()=>u(!0)}),i&&r.jsx(Y,{currentYear:n,currentMonth:e,onChangeDate:u,onClose:a})]})]})},Se="_box_1jvsl_1",Me="_mainContainer_1jvsl_5",De="_balance_1jvsl_10",j={box:Se,mainContainer:Me,balance:De},Re=()=>r.jsx("main",{className:j.mainContainer,children:r.jsxs("div",{className:j.box,children:[r.jsx(F,{to:"/",children:"Go back"}),r.jsxs("div",{className:j.box,children:[r.jsx(Pe,{}),r.jsx("div",{className:j.balance,children:r.jsx(U,{})})]})]})}),ze="_box_14hda_1",Je={box:ze},Ye=[{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"},{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"},{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"},{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"}],We=()=>r.jsxs("div",{className:Je.box,children:[r.jsx(Re,{}),r.jsx(ge,{}),r.jsx(G,{data:Ye})]});export{We as default};
