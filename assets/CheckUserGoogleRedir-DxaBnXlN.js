import{v as n,m as i,a as l,j as t,e as u}from"./index-DJk5-Pg5.js";const d="_RedirBox_182ts_1",x="_RedirText_182ts_13",a={RedirBox:d,RedirText:x},g=()=>{const[o]=n(),e=i();return l.useEffect(()=>{const s=o.get("token");(async()=>{s===null&&e("/login",{replace:!0});try{const r=await u.get("https://kapusta-backend-827563b0830f.herokuapp.com/api/auth/current",{headers:{Authorization:`Bearer ${s}`}});if(r.status===200){const c=r.data.user.name;console.log("Zalogowano użytkownika:",c),e("/",{replace:!0})}else e("/login",{replace:!0})}catch(r){console.error("Błąd:",r),e("/login",{replace:!0})}})()},[]),t.jsx("div",{className:a.RedirBox,children:t.jsx("b",{className:a.RedirText,children:"Redirecting..."})})};export{g as default};
