import{r as m,c as O,s as B,m as $,j as s,n as J,o as G,b,u as L,p as Z,L as A}from"./index-DkwcVfA8.js";import{C as F}from"./Charts-7O7pKKUb.js";import{P as h,C as W}from"./Balance-CHVpan_a.js";const V=e=>e.reports;const X=()=>{const[e,n]=m.useState(""),[t,o]=m.useState([]),[r,i]=m.useState("expense"),u=O(B),c=O($);m.useEffect(()=>{(async()=>{try{const _=await a(r,c,u+1,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1Zjg0MTYxZDhmNWU4OGJiNWYyZGVhNCIsImlhdCI6MTcxMDg3MDI4MiwiZXhwIjoxNzExNDc1MDgyfQ.FF_Gif1IT1pbyeFnXnos_ThL8gGtAZ4fbi79dKyxlE4");o(_)}catch(x){console.error("Błąd pobierania danych z API:",x.message)}})()},[u,c,r]);const a=async(d,x,_,z)=>(console.log("Transaction type:",d),console.log("Month:",_),console.log("Year:",x),await J({transactionType:d,year:x,month:_,token:z})),l=d=>{const{value:x}=d.target;i(x)},C=d=>{n(d)};return s.jsxs("div",{children:[s.jsxs("select",{value:r,onChange:l,children:[s.jsx("option",{value:"expense",children:"Expense"}),s.jsx("option",{value:"income",children:"Income"})]}),s.jsx("ul",{children:t.map(d=>s.jsxs("li",{onClick:()=>C(d),className:`${d===e?"active":""}`,children:[s.jsxs("p",{children:[d.total,".00"]}),s.jsx("p",{children:d.categoryName})]},d.id))})]})},q={filteredData:[]},E=G({name:"reportsQuery",initialState:q,reducers:{filteredDataAction:(e,n)=>{e.filteredData=n.payload}}}),{filteredDataAction:T}=E.actions;E.reducer;const K="_list_108ju_1",Q="_item_108ju_11",U="_itemText_108ju_52",H="_itemExpenses_108ju_59",ee="_itemIncome_108ju_66",te="_box_108ju_73",ne="_navText_108ju_90",p={list:K,item:Q,itemText:U,itemExpenses:H,itemIncome:ee,box:te,navText:ne};var M={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},k=b.createContext&&b.createContext(M),se=["attr","size","title"];function oe(e,n){if(e==null)return{};var t=re(e,n),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function re(e,n){if(e==null)return{};var t={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},v.apply(this,arguments)}function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?D(Object(t),!0).forEach(function(o){ce(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function ce(e,n,t){return n=ae(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ae(e){var n=ie(e,"string");return typeof n=="symbol"?n:String(n)}function ie(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function P(e){return e&&e.map((n,t)=>b.createElement(n.tag,I({key:t},n.attr),P(n.child)))}function S(e){return n=>b.createElement(le,v({attr:I({},e.attr)},n),P(e.child))}function le(e){var n=t=>{var{attr:o,size:r,title:i}=e,u=oe(e,se),c=r||t.size||"1em",a;return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),b.createElement("svg",v({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:a,style:I(I({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&b.createElement("title",null,i),e.children)};return k!==void 0?b.createElement(k.Consumer,null,t=>n(t)):n(M)}function ue(e){return S({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function de(e){return S({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}const me="_box_183zs_1",pe="_button_183zs_8",N={box:me,button:pe},j=({onButtonClick:e})=>{const n=t=>{const o=t.currentTarget.name;e(o),console.log(e)};return s.jsxs("div",{className:N.box,children:[s.jsx("button",{className:N.button,name:"decrement",onClick:n,children:s.jsx(ue,{})}),s.jsx("button",{className:N.button,name:"increment",onClick:n,children:s.jsx(de,{})})]})};j.propTypes={onButtonClick:h.func.isRequired};const xe=()=>{var i,u;const[e,n]=m.useState("expenses"),t=O(V),o=L(),r=()=>{if(e==="expenses"){n("income"),o(T([]));return}n("expenses"),o(T([]))};return m.useEffect(()=>{(async()=>{try{const l=await Z({transactionType:e,token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1Zjg0MTYxZDhmNWU4OGJiNWYyZGVhNCIsImlhdCI6MTcxMDg3MDI4MiwiZXhwIjoxNzExNDc1MDgyfQ.FF_Gif1IT1pbyeFnXnos_ThL8gGtAZ4fbi79dKyxlE4"});console.log("Expense categories:",l)}catch(a){console.error("Błąd pobierania kategorii z API:",a.message)}})()},[e]),s.jsxs("div",{children:[s.jsxs("ul",{className:p.list,children:[s.jsxs("li",{className:p.item,children:[s.jsx("p",{className:p.itemText,children:"Expenses:"}),s.jsxs("span",{className:p.itemExpenses,children:[((i=t==null?void 0:t.expenses)==null?void 0:i.expenseTotal)??0,".00"]})]}),s.jsxs("li",{className:p.item,children:[s.jsx("p",{className:p.itemText,children:"Income:"}),s.jsxs("span",{className:p.itemIncome,children:[((u=t==null?void 0:t.incomes)==null?void 0:u.incomeTotal)??0,".00"]})]})]}),s.jsxs("div",{className:p.box,children:[s.jsx(j,{onButtonClick:r,children:s.jsx("p",{className:p.navText,children:e})}),s.jsx(X,{})]})]})},R=new Date,g=["January","February","March","April","May","June","July","August","September","October","November","December"],he=()=>R.getMonth(),be=()=>R.getFullYear(),fe="_backdrop_1cjrp_1",ge="_calendarbox_1cjrp_10",je="_calendarItem_1cjrp_21",_e="_active_1cjrp_26",f={backdrop:fe,calendarbox:ge,calendarItem:je,active:_e},Y=({onClose:e,currentMonth:n,currentYear:t,onChangeDate:o})=>{const r=c=>{const a=parseInt(c.currentTarget.textContent);o(a,n)},i=c=>{const a=c.currentTarget.textContent,l=g.indexOf(a);o(t,l)};m.useEffect(()=>{const c=a=>{a.code==="Escape"&&e()};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e]);const u=c=>{c.target===c.currentTarget&&e()};return s.jsx("div",{onClick:u,className:f.backdrop,children:s.jsxs("div",{className:f.calendarbox,children:[s.jsx(j,{onButtonClick:r,children:s.jsx("p",{className:f.year,children:t})}),s.jsx("ul",{children:g.map(c=>s.jsx("p",{className:`${f.calendarItem} ${c===n?f.active:""}`,onClick:i,children:c},c))})]})})};Y.propTypes={onClose:h.func.isRequired,currentMonth:h.oneOfType([h.string,h.number]).isRequired,currentYear:h.number.isRequired,onChangeDate:h.func.isRequired};const ye="_periodbox_1se94_1",ve="_periodbutton_1se94_6",Ie="_periodItem_1se94_16",w={periodbox:ye,periodbutton:ve,periodItem:Ie},Ce=()=>{const[e,n]=m.useState(""),[t,o]=m.useState(""),[r,i]=m.useState(!1);m.useEffect(()=>((()=>{const l=he();n(g[l]),o(be())})(),()=>{}),[]);const u=a=>{let l=g.indexOf(e);l=a?(l+1)%12:(l-1+12)%12;const C=a&&l===0?t+1:!a&&l===11?t-1:t;o(C),n(g[l])},c=()=>{i(a=>!a)};return s.jsxs("div",{className:w.periodbox,children:[s.jsx("p",{children:"Current period:"}),s.jsxs("div",{className:w.periodItem,children:[s.jsx(j,{onButtonClick:()=>u(!1)}),s.jsxs("button",{className:w.periodbutton,onClick:c,children:[e," ",t]}),s.jsx(j,{onButtonClick:()=>u(!0)}),r&&s.jsx(Y,{currentYear:t,currentMonth:e,onChangeDate:u,onClose:c})]})]})},Ne="_box_1jvsl_1",we="_mainContainer_1jvsl_5",Oe="_balance_1jvsl_10",y={box:Ne,mainContainer:we,balance:Oe},Te=()=>s.jsx("main",{className:y.mainContainer,children:s.jsxs("div",{className:y.box,children:[s.jsx(A,{to:"/",children:"Go back"}),s.jsxs("div",{className:y.box,children:[s.jsx(Ce,{}),s.jsx("div",{className:y.balance,children:s.jsx(W,{})})]})]})}),ke="_box_14hda_1",De={box:ke},Ee=[{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"},{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"},{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"},{category:"Продукты",amount:"2000"},{category:"Транспорт",amount:"1500"},{category:"Развлечения",amount:"1000"}],Ye=()=>s.jsxs("div",{className:De.box,children:[s.jsx(Te,{}),s.jsx(xe,{}),s.jsx(F,{data:Ee})]});export{Ye as default};
