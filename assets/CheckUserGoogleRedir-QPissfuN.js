import{m as n,a as c,j as o,e as i}from"./index-A9Q64IW7.js";const h=()=>{const e=n();return c.useEffect(()=>{(async()=>{var r;const a=((r=window.location.headers)==null?void 0:r.get("AuthToken"))||null;a===null&&e("/login",{replace:!0});try{const t=await i.get("https://kapusta-backend-827563b0830f.herokuapp.com/api/auth/current",{headers:{Authorization:`Bearer ${a}`}});if(t.status===200){const s=t.data.user.name;console.log("Zalogowano użytkownika:",s),e("/",{replace:!0})}else e("/login",{replace:!0})}catch(t){console.error("Błąd:",t),e("/login",{replace:!0})}})()},[]),o.jsx("div",{children:o.jsx("h1",{children:"Redirecting..."})})};export{h as default};
